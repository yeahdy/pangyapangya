<!DOCTYPE HTML>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<html>
<head>
    <title>회원 정보</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
    <meta name="description" content="" />
    <meta name="keywords" content="" />
    <link rel="stylesheet" href="/css/main.css" />
    <style>
        .headerIcon{
            width: 40px;
            display: block;
            margin: auto;"
        }
        .icon.solid:before {
            font-weight: 100;
            content: none;
        }

        .spotlights h5{
            font-weight: bold;
            font-size: small;
        }

        .spotlights p{
            font-size: small;
        }

        /* 검색창 */
        .search {
            position: relative;
            text-align: center;
            width: 400px;
            margin: 0 auto;
        }
        input {
            width: 100%;
            border-radius: 20px;
            border: 1px solid #bbb;
            margin: 10px 0;
            padding: 10px 12px;
        }
        .fa-search {
            position: absolute;
            left: 90%;
            top: 35%;
            margin: 0;
        }
        form {
            margin: 0;
        }
        /**/

        #all{display: flex;}
        .wrapper{width: 75%;}
        #ad{background: #fff; width: 15%; height: 10px;}
        #ad img{width: 100%; height: 600px;}
        #myMainSection{/*display: flex;*/}
        #myLeftSection{width: 20%; background: #f9efef;}
        #myRightSection{width: 90%; padding: 0 15px 15px 15px; margin: 0 auto;}
        .myPageTitle{background: #F9A825; margin: 0; padding: 7px 7px 7px 15px;}
        .myPageTitle p{margin: 0; color: #fff;}
        #allDiv{padding:15px;}
        #allDiv p{margin: 0; font-size: 0.85em; font-weight: bold; color: #000;}
        .contentDiv{margin-top: 15px; margin-bottom: 15px;}
        .contentDiv a{color: #3b3b3b; font-weight: lighter; border: none; font-size: 0.8rem;}
        .myPageSelectMenu{margin-top: 5px; margin-bottom: 5px;}
        #modify_button{
            display: block;
            margin: 0 auto;
        }
        table tbody tr:nth-child(2n + 1) {
            background-color: white;
        }
        input, select, textarea {
            color: #666;
            border-color: rgba(144, 144, 144, 0.075);
            width: 100%;
        }
        table{
            margin: 2em auto;
            /*width: 80%;*/
        }
        #myRightDiv h1{
            /*width: 80%;*/
            margin: 0 auto;
        }
        #title{
            color: #F9A825;
            font-size: 1.2em;
            font-weight: 900;
        }
        table input{
            border-radius: 10px;
        }
    </style>
</head>
<body class="is-preload" style="padding: 200px">
<!-- Header -->
<header id="header" th:include="/main/header::header_body">

</header>

<!-- Wrapper -->
<div id="all">
    <div class="wrapper">



        <section id="myLeftSection">
            <div id="myLeftDiv">
                <div class="myPageMenu">
                    <div class="myPageTitle"><p>MY PAGE</p></div>
                    <div id="allDiv">
                        <div class="myPageSelect1"><p>주문 내역</p></div>
                        <div class="contentDiv">
                            <div class="myPageSelectMenu"><p><a href="/mypage/breadOrderList">빵 결제 내역</a></p></div>
                            <div class="myPageSelectMenu"><p><a href="/mypage/oneDayClassList">원데이 클래스 신청 내역</a></a></p></div>
                            <div class="myPageSelectMenu floorDiv"><p><a href="/mypage/testingList">빵 체험단 신청 내역</a></a></p></div>
                        </div>

                        <div class="myPageSelect1"><p>내 글 보기</p></div>
                        <div class="contentDiv">
                            <div class="myPageSelectMenu"><p><a href="/mypage/bread_review" style="text-decoration: underline; color: chocolate;">빵집 리뷰</a></p></div>
                            <div class="myPageSelectMenu"><p><a href="/mypage/oneDayClass_review">원데이 클래스</a></a></p></div>
                            <div class="myPageSelectMenu floorDiv"><p><a href="/mypage/testing_review">빵 체험단</a></a></p></div>
                        </div>

                        <div class="myPageSelect1"><p>내 정보</p></div>
                        <div class="contentDiv">
                            <div class="myPageSelectMenu"><p><a href="/mypage/modifyMyInfo">내 정보 수정</a></p></div>
                            <div class="myPageSelectMenu"><p><a href="#">회원 탈퇴</a></a></p></div>
                        </div>
                    </div>
                </div>

            </div>
        </section>

        <!-- Main -->
        <section class="main second-main">

            <section>
                <section id="myMainSection">


                    <section id="myRightSection" class="form">
                        <div id="myRightDiv">
                            <header>
                                <h2 id="title">회원 정보 관리</h2>
                            </header>
                            <table id="form" th:object="${userInfo}">
                                <tr >
                                    <td>이름</td>
                                    <td><input th:value="*{userName}" readonly></td>
                                </tr>
                                <tr>
                                    <td>아이디</td>
                                    <td><input th:value="*{userId}" readonly></td>
                                </tr>
                                <tr>
                                    <td>비밀번호</td>
                                    <td><input type="password" th:value="*{userPw}" style="border-radius: 10px;"></td>
                                </tr>
                                <tr>
                                    <td>비밀번호 확인</td>
                                    <td><input type="password" value="" style="border-radius: 10px;"></td>
                                </tr>
                                <tr>
                                    <td>휴대전화</td>
                                    <td><input type="" th:value="*{userPhoneNum}"></td>
                                </tr>

                                <!--우편번호 작성하는 거 양식 바꾸기-->
                                <tr>
                                    <td>우편번호</td>
                                    <td> <input type="" th:value="*{userZipcode}"></td>
                                </tr>
                                <tr>
<!--                                    private String userZipcode;-->
<!--                                    private String userAddress;-->
<!--                                    private String userAddress_detail;-->
                                    <td>주소</td>
                                    <td>
                                        <input type="text" id="userZipcode" name="userZipcode" placeholder="우편번호" th:value="*{userZipcode}">
                                        <input type="button" onclick="execDaumPostcode()" value="우편번호 찾기"><br>
                                        <input type="text" id="userAddress" name="userAddress" placeholder="주소" th:value="*{userAddress}">
                                        <input type="" th:value="*{userAddress}"></td>
                                </tr>
                                <tr>
                                    <td>상세 주소</td>
                                    <td><input type="" type="text" id="userAddress_detail" name="userAddress_detail" placeholder="상세주소" th:value="*{userAddress_detail}"></td>
                                </tr>

                            </table>
                    <section>
                    <button id="modify_button">정보 수정 하기</button>
                </section>
                        </div>
                    </section>
                </section>
            </section>
        </section>
    </div>
    <div id="ad">
        <span class="image"><img src="/images/ECdDwLmUIAIAX7k.jpg" alt=""></span>
    </div>
</div>

<!-- Footer -->
<footer id="footer" th:include="/main/footer::footer_body"></footer>

<!-- Scripts -->
<script src="/js/jquery.min.js"></script>
<script src="/js/jquery.dropotron.min.js"></script>
<script src="/js/browser.min.js"></script>
<script src="/js/breakpoints.min.js"></script>
<script src="/js/util.js"></script>
<script src="/js/main.js"></script>
<script th:replace="/main/header::header_js"></script>
<script>
    // 다음 주소 api
    function execDaumPostcode() {
        new daum.Postcode({
            oncomplete: function(data) {
                // 팝업에서 검색결과 항목을 클릭했을때 실행할 코드를 작성하는 부분.

                // 각 주소의 노출 규칙에 따라 주소를 조합한다.
                // 내려오는 변수가 값이 없는 경우엔 공백('')값을 가지므로, 이를 참고하여 분기 한다.
                var addr = ''; // 주소 변수
                var extraAddr = ''; // 참고항목 변수

                //사용자가 선택한 주소 타입에 따라 해당 주소 값을 가져온다.
                if (data.userSelectedType === 'R') { // 사용자가 도로명 주소를 선택했을 경우
                    addr = data.roadAddress;
                } else { // 사용자가 지번 주소를 선택했을 경우(J)
                    addr = data.jibunAddress;
                }

                // 사용자가 선택한 주소가 도로명 타입일때 참고항목을 조합한다.
                if(data.userSelectedType === 'R'){
                    // 법정동명이 있을 경우 추가한다. (법정리는 제외)
                    // 법정동의 경우 마지막 문자가 "동/로/가"로 끝난다.
                    if(data.bname !== '' && /[동|로|가]$/g.test(data.bname)){
                        extraAddr += data.bname;
                    }
                    // 건물명이 있고, 공동주택일 경우 추가한다.
                    if(data.buildingName !== '' && data.apartment === 'Y'){
                        extraAddr += (extraAddr !== '' ? ', ' + data.buildingName : data.buildingName);
                    }
                    // 표시할 참고항목이 있을 경우, 괄호까지 추가한 최종 문자열을 만든다.
                    if(extraAddr !== ''){
                        extraAddr = ' (' + extraAddr + ')';
                    }
                    // 조합된 참고항목을 해당 필드에 넣는다.
                    document.getElementById("userAddress_detail").value = extraAddr;

                } else {
                    document.getElementById("userAddress_detail").value = '';
                }

                // 우편번호와 주소 정보를 해당 필드에 넣는다.
                document.getElementById('userZipcode').value = data.zonecode;
                document.getElementById("userAddress").value = addr;
                // 커서를 상세주소 필드로 이동한다.
                document.getElementById("userAddress_detail").focus();
            }
        }).open();
    }
</script>
</body>
</html>