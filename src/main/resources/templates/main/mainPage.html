<!DOCTYPE HTML>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<html>
<head>
	<title>ë¹µì•¼ë¹µì•¼(å±‹)</title>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
	<meta name="description" content="" />
	<meta name="keywords" content="" />
	<link rel="stylesheet" href="/css/main.css" />
	<link rel="icon" type="image/png"  href="/images/favicon.png"/>
	<style th:replace="/main/header::header_style"></style>
	<style>
		body{
			padding: 5em 200px 0 200px;
		}

		.spotlights a{
			font-weight: bold;
			font-size: 12px;
			color: black;
		}

		.spotlights p{
			/*margin-bottom: 1em;*/
			font-size: 11px;
		}

		p { margin: 0 0 1em 0; }
		/* ê°¤ëŸ¬ë¦¬ */
		.spotlights > article {
			padding: 1.0em 1.5em 0.5em 1.5em;
			border-style: solid;
			border-width: 0px 0px 0px 0px;
			width: 25%;
		}

		.image.fit img {
			border-radius: 5px;
		}

		h4 {
			font-weight: 700;
			font-size: large;
			color: black;
			display: inline-block;
			border-bottom: 2px solid #666;
		}

		h2{
			font-weight: bolder;
			font-size: xx-large;
		}

		.class_price{
			font-weight: bolder;
			margin: 0px;
			font-size: 18px !important;
			color: #F9A825;
			text-align: start;
		}

		.reviewCnt{
			font-weight: 600;
			text-align: start;
		}

		.moreView{
			text-align: right;
			float: right;
			font-weight: 700;
		}

		.reviewId{
			font-size: small;
		}

		/* Tasting Review */
        .article_tastingRe {
            border-width: 0px 0px 0px 0px !important;
            width: 33.33333% !important;
        }
		.reviewBox{
			background: #f5f5f5;margin-bottom: 1em;
			border: solid 0px;
			border-radius: 5px;
            height: 19.5em;
            overflow: hidden;
		}

		.reviewBox div{
			margin-bottom: 2rem;
		}
	</style>
	<!-- ë¯¸ë””ì–´ ì¿¼ë¦¬ -->
	<style>
		@media screen and (max-width: 980px) {
			body{
				padding: 0px;
			}

			.wrapper{
				width: calc(100% - 0em);
			}

			.spotlights > article {
				width: 25%;
				border-width: 0px;
				padding: 1em 1em 0.5em 1em;
			}

			.spotlights p {
				font-size: x-small;
			}

			.spotlights a {
				font-size: x-small;
			}

			h4{
				font-size: inherit;
			}

			h2{
				font-size: x-large;
			}

			.moreView{
				font-size: 11px;
			}

			.reviewId{
				font-size: x-small;
			}
		}
	</style>
</head>
<body class="is-preload">

<!-- Header -->
<header id="header" th:include="/main/header::header_body"></header>

<!-- Wrapper -->
<div class="wrapper">
	<!-- Main -->
	<section class="main">

		<!-- Banner -->
		<section id="banner">
			<article>
				<div class="inner">
					<img src="/images/mainBread4.png" alt="ë©”ì¸ë² ë„ˆ1">
					<h2><span style="font-size: 27px">ì˜¬ ê²¨ìš¸ì„ íŠ¹ë³„í•˜ê²Œ ë§Œë“¤ì–´ì¤„</span><br>ë…ì¼ ì¼€ì´í¬ ìŠˆí†¨ë Œâ„</h2>
					<p>ê°€ì¡±, ì—°ì¸, ì¹œêµ¬ ë“± ê³ ë§ˆìš´ ì‚¬ëŒë“¤ì—ê²Œ ê°ë™ì„ ì „í•˜ì„¸ìš”!</p>
					<ul class="actions">
						<li><a class="button" href="/main/breadList">ë¹µ ë‹´ìœ¼ëŸ¬ ê°€ê¸°</a></li>
					</ul>
				</div>

			</article>
			<article>
				<div class="inner">
					<img src="/images/mainBread1.jpg" alt="ë©”ì¸ë² ë„ˆ2">
					<h2>ì—„ì„ ëœ ì¬ë£Œë¡œ ë§Œë“  ì˜ì–‘ê°€ë“ í†µë°€ë¹µ</h2>
					<p>10ì—¬ê°€ì§€ ì´ìƒì˜ ê³¡ë¬¼ì´ ì²¨ê°€ëœ ë‹¤ì–‘í•œ ì¢…ë¥˜ì˜ ë¹µì„ ë§Œë‚˜ë³´ì„¸ìš”</p>
					<ul class="actions">
						<li><a class="button" href="/main/breadList">ë°”ë¡œ êµ¬ê²½ê°€ê¸°</a></li>
					</ul>
				</div>
			</article>
			<article>
				<div class="inner">
					<img src="/images/íœ˜ë‚­ì‹œì—1.jpg" alt="ë©”ì¸ë² ë„ˆ3">
					<h2><span>ì¸ê¸° ë¹µì§‘</span>ì—ì„œ ë¬´ë£Œë¡œ ë¹µ ë¨¹ì!</h2>
					<p>3ì´ˆë§Œì— ë¹µ ì²´í—˜ë‹¨ ì‹ ì²­í•˜ê³ , ë§›ì§‘ ë¹µ ë¬´ë£Œë¡œ ë§›ë³´ê¸°</p>
					<ul class="actions">
						<li><a class="button" href="/test/list">ì‹¤ì‹œê°„ ëª¨ì§‘ ë³´ëŸ¬ê°€ê¸°</a></li>
					</ul>
				</div>
			</article>
			<article>
				<div class="inner">
					<img src="/images/mainBread2.jpg" alt="ë©”ì¸ë² ë„ˆ4">
					<h2>ë¹µìˆœì´ ë¹µëŒì´ ë‹¤ ëª¨ì—¬ë¼ğŸ</h2>
					<p>ë² ì´í‚¹? ì•„ë¬´ê²ƒë„ ëª°ë¼ë„ ê´œì°®ì•„! ì§ì ‘ ë§›ì§‘ ë¹µ ë§Œë“¤ëŸ¬ ê°€ì!</p>
					<ul class="actions">
						<li><a class="button" href="/class/classMain">ì‹¤ì‹œê°„ ì‹ ì²­í•˜ê¸°</a></li>
					</ul>
				</div>
			</article>
		</section>

		<!-- Blurb 1 -->
		<section style="padding-top: 2.0em;padding-bottom: 0em;">
			<h4>ë”°ëˆë”°ëˆ ì˜¤ëŠ˜ì˜ ë¹µ</h4>
		</section>

		<!-- ì˜¤ëŠ˜ì˜ ë¹µ -->
		<section class="spotlights alt">
			<article th:each="bakery : ${breadList}">
				<th:block  th:object="${bakery}">
					<a th:href="*{bno}" class="image fit goInfo"><img th:src="*{bakeryPhoto}" alt=""></a>
					<a th:href="*{bno}" class="bakery-name goInfo" name="shopName" th:text="*{shopName}"></a>
					<p th:text="|*{#strings.substring(content,0,50)}...|"></p>
					<p class="class_price"><span th:text="|*{#numbers.formatInteger(breadPrice,3,'COMMA')} â‚©|"></span></p>
					<p th:text="|ë¦¬ë·° *{replyCount} ê°œ|" class="reviewCnt"></p>
				</th:block>
			</article>
			<br>
			<div class="col-6 col-12-medium">
				<ul class="actions fit">
					<li><a href="/main/breadList" class="button primary fit" style="margin-top: 1em;">ì˜¤ëŠ˜ì˜ ë¹µ ë”ë³´ê¸°</a></li>
				</ul>
			</div>
		</section>


		<!-- Blurb 2 -->
		<section style="padding-top: 2.0em;padding-bottom: 0em;border-top: none;">
			<h4>ìš”ì¦˜ ì¸ê¸° ë¹µ ì§ì ‘ ë§Œë“œëŠ” ì›ë°ì´ í´ë˜ìŠ¤</h4>
		</section>

		<!-- ì›ë°ì´ í´ë˜ìŠ¤ -->
		<section class="spotlights alt">
			<th:block th:each="class : ${classList}">
			<article th:object="${class}">
				<a th:href="*{bno}" class="image fit goRead_class"><img th:src="*{classPhoto}" alt=""></a>
				<p th:text="*{shopName}" style="margin-bottom: 0em"></p>
				<a class="goRead_class" th:href="*{bno}" th:text="*{title}"></a>
				<p class="class_price"><span th:text="|*{#numbers.formatInteger(classPrice,3,'COMMA')} â‚©|"></span></p>
				<p th:text="|ë¦¬ë·° *{replyCount} ê°œ|" class="reviewCnt"></p>
			</article>
			</th:block>
			<br>
			<div class="col-6 col-12-medium">
				<ul class="actions fit">
					<li><a href="/class/classMain" class="button primary fit" style="margin-top: 1em;">ì›ë°ì´ í´ë˜ìŠ¤ ë”ë³´ê¸°</a></li>
				</ul>
			</div>
		</section>

		<!-- Blurb 3 -->
		<section style="padding-top: 2.0em;padding-bottom: 0em;border-top: none;">
			<h4>ë¹µ ì²´í—˜ë‹¨ ì‹¤ì‹œê°„ ëª¨ì§‘!</h4>
			<a href="/test/list" class="moreView">ë”ë³´ê¸°</a>
		</section>

		<!-- ë¹µì²´í—˜ë‹¨ ëª¨ì§‘ -->
		<section class="spotlights alt" id="testList">
			<th:block th:each="item : ${tasting}">
			<article style="border-width: 0px 0px 0px 0px;width: 33.33333%;" th:object="${item}" class="item">
				<a th:href="*{tno}" class="image fit goRead"><img th:src="*{testingPhoto}" alt=""></a>
				<a th:href="*{tno}" th:text="*{shopName}" class="goRead"></a>
				<p th:text="*{title}"></p>
			</article>
			</th:block>
			<br>
		</section>

		<!-- Blurb 4 -->
		<section style="padding-top: 2.0em;padding-bottom: 0em;border-top: none;">
			<h4>ë¹µ ì²´í—˜ë‹¨ ì‹¤ì‹œê°„ ë¦¬ë·°!</h4>
			<a href="/test/review" class="moreView">ë”ë³´ê¸°</a>
		</section>

		<!-- ë¹µ ì²´í—˜ë‹¨ ë¦¬ë·° -->
		<section class="spotlights alt">
			<th:block th:each="review : ${tastingRe}">
			<article class="article_tastingRe" th:object="${review}">
				<a th:href="*{tno}" class="image fit goRead"><img  th:src="*{testingPhoto}" alt=""></a>
				<a th:href="*{tno}" th:text="*{shopName}" class="goRead tastingReTNO"></a>
				<p th:text="*{title}"></p>
				<!--<p style="font-weight: 600;" th:text="'ë¦¬ë·° '+*{reviewCnt}+' ê°œ'"></p>-->
			</article>
            </th:block>
            <br>
            <!-- ì‚¬ìš©ì ëŒ“ê¸€ -->
            <article class="article_tastingRe">
                <div class="box reviewBox" id="reviewAppend1"></div>
            </article>
            <article class="article_tastingRe">
                <div class="box reviewBox" id="reviewAppend2"></div>
            </article>
            <article class="article_tastingRe">
                <div class="box reviewBox" id="reviewAppend3"></div>
            </article>
		</section>

	</section>
</div>

<div th:if="${check == 'true'}">
	<input type="hidden" id="update_True" th:value="${check}" />
</div>

<!-- Footer -->
<footer id="footer" th:include="/main/footer::footer_body"></footer>

<!-- Scripts -->
<script src="https://kit.fontawesome.com/8eb5905426.js" crossorigin="anonymous"></script>
<script src="/js/jquery.min.js"></script>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="/js/jquery.dropotron.min.js"></script>
<script src="/js/browser.min.js"></script>
<script src="/js/breakpoints.min.js"></script>
<script src="/js/util.js"></script>
<script src="/js/main.js"></script>
<script th:replace="/main/header::header_js"></script>
<script type="text/javascript" th:inline="javascript">

	$(document).ready(function () {
		// ì˜¤ëŠ˜ì˜ ë¹µ
		$("a.goInfo").on("click", function (e) {
			e.preventDefault();
			location.href = "/main/breadDetail?bno=" + $(this).attr("href");
		})

		//ì›ë°ì´ í´ë˜ìŠ¤
		$("a.goRead_class").on("click", function (e) {
			e.preventDefault();
			location.href = "/class/classDetail?bno=" + $(this).attr("href");
		})

		// ë¹µ ì²´í—˜ë‹¨ ëª¨ì§‘
		$("a.goRead").on("click", function (e) {
			e.preventDefault();
			location.href = "/test/read?tno=" + $(this).attr("href");
		})

		// ë¹µ ì²´í—˜ë‹¨ ì‹¤ì‹œê°„ ë¦¬ë·°(ëŒ“ê¸€ 3ê°œ)
		getTastingReviews1();
		getTastingReviews2();
		getTastingReviews3();

		// íšŒì›íƒˆí‡´
		console.log("update_True: " + $("#update_True").val())
		if($("#update_True").val() == 'true'){
			alert("íšŒì›íƒˆí‡´ê°€ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤. ì•ˆë…•íˆê°€ì„¸ìš”");
			location.href="/main/mainPage"
		}
	})

	/* ë¹µ ì²´í—˜ë‹¨ ì‹¤ì‹œê°„ ë¦¬ë·°(ëŒ“ê¸€ 3ê°œ) */
	function getTastingReviews1() {
		// let tno= $(".tastingReTNO").attr('href');
		$.ajax({
			type: 'GET',
			url: '/main/getTastingReviews1',
			/*data: {tno},*/
			success: function (result) {
				console.log(result)
                if(result.length == 0){
                    let getTastingReviews =  "<div>"
                    getTastingReviews += "<p style='font-size: small;font-weight: bold;'>"
                    getTastingReviews += "í˜„ì¬ ë¦¬ë·°ê°€ ì¡´ì¬í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ì²«ë²ˆì§¸ë¡œ ë¦¬ë·°ë¥¼ ë‹¬ê³  ë¹µìˆœ&ë¹µëŒì´ë“¤ì—ê²Œ ì•Œë ¤ì£¼ì„¸ìš”!"
                    getTastingReviews += "</p> </div>"
                    $("#reviewAppend1").append(getTastingReviews);
                }
				for (let i = 0; i < result.length; i++) {
					let getTastingReviews =  "<div> <span class='reviewId'>"
					getTastingReviews += result[i].userId
					getTastingReviews += "</span> <p>"
					getTastingReviews += result[i].content
					getTastingReviews += "</p> </div>"
					$("#reviewAppend1").append(getTastingReviews);
				}
			},
			error: function() {
				console.log("ëŒ“ê¸€ ë¶ˆëŸ¬ì˜¤ê¸° ì‹¤íŒ¨")
			}
		})
	}
	function getTastingReviews2() {
		$.ajax({
			type: 'GET',
			url: '/main/getTastingReviews2',
			success: function (result) {
				console.log(result)
                if(result.length == 0){
                    let getTastingReviews =  "<div>"
                    getTastingReviews += "<p style='font-size: small;font-weight: bold;'>"
                    getTastingReviews += "í˜„ì¬ ë¦¬ë·°ê°€ ì¡´ì¬í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ì²«ë²ˆì§¸ë¡œ ë¦¬ë·°ë¥¼ ë‹¬ê³  ë¹µìˆœ&ë¹µëŒì´ë“¤ì—ê²Œ ì•Œë ¤ì£¼ì„¸ìš”!"
                    getTastingReviews += "</p> </div>"
                    $("#reviewAppend2").append(getTastingReviews);
                }
				for (let i = 0; i < result.length; i++) {
					let getTastingReviews =  "<div> <span class='reviewId'>"
					getTastingReviews += result[i].userId
					getTastingReviews += "</span> <p>"
					getTastingReviews += result[i].content
					getTastingReviews += "</p> </div>"
					$("#reviewAppend2").append(getTastingReviews);
				}
			},
			error: function() {
				console.log("ëŒ“ê¸€ ë¶ˆëŸ¬ì˜¤ê¸° ì‹¤íŒ¨")
			}
		})
	}
	function getTastingReviews3() {
		$.ajax({
			type: 'GET',
			url: '/main/getTastingReviews3',
			success: function (result) {
				console.log(result)
                if(result.length == 0){
                    let getTastingReviews =  "<div>"
                    getTastingReviews += "<p style='font-size: small;font-weight: bold;'>"
                    getTastingReviews += "í˜„ì¬ ë¦¬ë·°ê°€ ì¡´ì¬í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ì²«ë²ˆì§¸ë¡œ ë¦¬ë·°ë¥¼ ë‹¬ê³  ë¹µìˆœ&ë¹µëŒì´ë“¤ì—ê²Œ ì•Œë ¤ì£¼ì„¸ìš”!"
                    getTastingReviews += "</p> </div>"
                    $("#reviewAppend3").append(getTastingReviews);
                }
				for (let i = 0; i < result.length; i++) {
					let getTastingReviews =  "<div> <span class='reviewId'>"
					getTastingReviews += result[i].userId
					getTastingReviews += "</span> <p>"
					getTastingReviews += result[i].content
					getTastingReviews += "</p> </div>"
					$("#reviewAppend3").append(getTastingReviews);
				}
			},
			error: function() {
				console.log("ëŒ“ê¸€ ë¶ˆëŸ¬ì˜¤ê¸° ì‹¤íŒ¨")
			}
		})
	}
</script>
</body>
</html>